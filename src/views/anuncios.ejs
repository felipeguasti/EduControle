<% if (!onlyContent) { %>
    <%- include('partials/headerAnuncios') %>
        <section>
            <h1>Atualização dos Anúncios da TV dos Professores</h1>
            <form id="formAnuncio" method="post" action="/admin/anuncios/criar">
                <label for="tituloAnuncio">Título do Anúncio:</label>
                <input type="text" id="tituloAnuncio" name="tituloAnuncio" required>
                
                <label for="conteudoAnuncio">Conteúdo do Anúncio:</label>
                <textarea id="conteudoAnuncio" name="conteudoAnuncio" required></textarea>
            
                <button type="submit">Adicionar Anúncio</button>
            </form>
                
        </section>
        <section>
            <h2>Anúncios Publicados</h2>
            <div id="listaAnuncios">
                <% if (anuncios && anuncios.length > 0) { %>
                    <% anuncios.forEach((anuncio, index) => { %>
                        <div class="anuncio-container">
                            <h3><%= anuncio.tituloAnuncio %></h3>
                            <p><%= anuncio.conteudoAnuncio %></p>
                            <% const dataPublicacao = new Date(anuncio.dataPublicacao); %>
                            <% const dataFormatada = dataPublicacao.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit' }); %>
                            <h6>Publicado em <%= dataFormatada %>.</h6>
                            <img src="/images/editar.png" class="edit-reserva-icon" data-id="<%= anuncio.id %>" alt="Editar Anúncio" onclick="editarAnuncio('<%= anuncio.id %>')">
                            <img src="/images/excluir.png" class="delete-reserva-icon" data-id="<%= anuncio.id %>" alt="Excluir Anúncio" onclick="excluirAnuncio('<%= anuncio.id %>')">
                        </div>
                    <% }); %>
                <% } else { %>
                    <p>Nenhum anúncio encontrado.</p>
                <% } %>
            </div> 
            <div id="paginacaoAnuncios">
                <button id="btnRecuar" onclick="recuarAnuncios(pagina)">Recuar</button>
                <button id="btnAvancar" onclick="avancarAnuncios(pagina)">Avançar</button>
            </div>
        </section>        
    <%- include('partials/footerAnuncios') %>             
<% } else { %>
    <section>
        <h1>Atualização dos Anúncios da TV dos Professores</h1>
        <form id="formAnuncio" method="post" action="/admin">
            <label for="tituloAnuncio">Título do Anúncio:</label>
            <input type="text" id="tituloAnuncio" name="tituloAnuncio" required>
        
            <label for="conteudoAnuncio">Conteúdo do Anúncio:</label>
            <textarea id="conteudoAnuncio" name="conteudoAnuncio" required></textarea>
        
            <button type="submit">Adicionar Anúncio</button>
        </form>        
    </section>
    <section>
        <h2>Anúncios Publicados</h2>
        <div id="listaAnuncios">
            <% if (anuncios && anuncios.length > 0) { %>
                <% anuncios.forEach((anuncio, index) => { %>
                    <div class="anuncio-container">
                        <h3><%= anuncio.tituloAnuncio %></h3>
                        <p><%= anuncio.conteudoAnuncio %></p>
                        <% const dataPublicacao = new Date(anuncio.dataPublicacao); %>
                        <% const dataFormatada = dataPublicacao.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit' }); %>
                        <h6>Publicado em <%= dataFormatada %>.</h6>
                        <img src="/images/editar.png" class="edit-reserva-icon" data-id="<%= anuncio.id %>" alt="Editar Anúncio" onclick="editarAnuncio('<%= anuncio.id %>')">
                        <img src="/images/excluir.png" class="delete-reserva-icon" data-id="<%= anuncio.id %>" alt="Excluir Anúncio" onclick="excluirAnuncio('<%= anuncio.id %>')">
                    </div>
                <% }); %>
            <% } else { %>
                <p>Nenhum anúncio encontrado.</p>
            <% } %>
        </div> 
        <div id="paginacaoAnuncios">
            <button id="btnRecuar" onclick="recuarAnuncios(pagina)">Recuar</button>
            <button id="btnAvancar" onclick="avancarAnuncios(pagina)">Avançar</button>
        </div>
    </section>
    <script src="/js/anuncios.js"></script>
<% } %>
